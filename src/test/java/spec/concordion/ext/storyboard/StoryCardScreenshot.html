<html xmlns:concordion="http://www.concordion.org/2007/concordion" xmlns:cx="urn:concordion-extensions:2010">
<link href="../../../../concordion.css" rel="stylesheet" type="text/css" />
<head>
</head>
<body>

  <h1>Screenshot Card</h1>
  <p>The screenshot card takes a screen shot of the application under test and presents it along with a description.</p>
  <p>Behaviour:</p>
  <ul>
  	<li>A screenshot card may be added explicitly by calling the <code>addScreenshot(title, description) or addCard(card)</code> methods,</li>
  	<li>or implicitly, when a test failure is encountered, or exception is thrown</li>
  	<li>Hovering over the screenshot image on the card will popup a larger view of the image</li>
  	<li>Clicking on the screenshot image will show the image full screen within the browser</li>
  	<li>When a test completes and there is an active WebBrowser and ScreenshotTaker, a screenshot will be taken of the final state of the browser</li>
  	<li>Default behaviour can be overridden by use of the following methods</li> 
  	<ul>
  		<li>setScreenshotTaker</li>
  		<li>setTakeScreenshotOnCompletion</li>
  		<li>setAcceptsScreenshots</li>
  		<li>setAddCardOnThrowable</li>
  		<li>setAddCardOnFailure</li>
  	</ul>	
  </ul>

  <div class="example">
    <h3>Example 1: Add Screenshot</h3>
    <pre concordion:set="#snippet">&lt;p concordion:execute="addScreenshot()"&gt;false&lt;/p&gt;</pre>

	<p concordion:execute="#fragment=render(#snippet, #actualValue)">
	  When this snippet is run with this fixture, <span concordion:assertTrue="screenshotCardAdded(#fragment)">this results in a Screenshot Card being added to the Storyboard</span>.
	</p>
	
	<h3>Example 2: Capture Failure</h3>
    <pre concordion:set="#snippet">&lt;p concordion:assertEquals="true"&gt;false&lt;/p&gt;</pre>

	<p concordion:execute="#fragment=render(#snippet, #actualValue)">
	  When this snippet is run with this fixture, this results in a Screenshot Card being added to the Storyboard <span concordion:assertTrue="failureCardAdded(#fragment)">notifying that a test failed on the specification</span>.
	</p>
	
	<h3>Example 3: Capture Exception</h3>
	<pre concordion:set="#snippet">&lt;p concordion:assertTrue="#TEXT"&gt;false&lt;/p&gt;</pre>

	<p concordion:execute="#fragment=render(#snippet, #actualValue)">
	  When this snippet is run with this fixture, this results in a Screenshot Card being added to the Storyboard <span concordion:assertTrue="exceptionCardAdded(#fragment)">notifying that an exception occurred in the fixture</span>.
	</p>
	
	<h3>Example 4: Ignore Failure</h3>
    <pre concordion:set="#snippet">&lt;p concordion:assertEquals="true"&gt;false&lt;/p&gt;</pre>

	<p concordion:execute="#fragment=renderWithFailureOff(#snippet, #actualValue)">
	  After calling <code>setAddCardOnFailure(false)</code>, when this snippet is run with this fixture, this results in <span concordion:assertTrue="noCardAdded(#fragment)">NO cards being added to the Storyboard</span>.
	</p>
  </div>  

</body>
</html>
